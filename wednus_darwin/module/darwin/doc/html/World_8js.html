<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Wednus Darwin: World.js File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>World.js File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
Wednus World class. 
<p>
This class defines the world with 2D matrix of objects (creatures). Performs followings:<ul>
<li>1. prepare the WPS basic elements (.core, .body)</li><li>2. prepare for Oracle class (.<a class="el" href="World_8js.html#f9c3e7ec357df13783459962704e0ebb" title="Oracle&#39;s requirement: .tick() method taking the generated periodic events.">tick()</a> w/ internal delaying mechanism)</li><li>3. build/manage matrix (wall, insert, erase..)</li><li>4. manage creature ID</li><li>5. debugging elements (clock, grid)</li></ul>
<p>
creature object requires one method:<ul>
<li>.action - per each <a class="el" href="World_8js.html#f9c3e7ec357df13783459962704e0ebb" title="Oracle&#39;s requirement: .tick() method taking the generated periodic events.">tick()</a>, the world runs this method of each creature included at once</li><li>.makeControl - true/false: assigns this creature controllable; one for each world</li></ul>
<p>
creature object requires one properties:<ul>
<li>.control - refer to detect whether the creature is controllable</li></ul>
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Sundew H. Shin </dd></dl>
<dl class="version" compact><dt><b>Version:</b></dt><dd>0.2.0 </dd></dl>

<p>Definition in file <a class="el" href="World_8js-source.html">World.js</a>.</p>

<p>

<p>
<a href="World_8js-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">World class.  <a href="#25ce45b286d5c9e26546c965c1e3e879"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="World_8js.html#b4e2d0db6ca8692e956bdf07827cd735">at</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">return creature on the given coordinate  <a href="#b4e2d0db6ca8692e956bdf07827cd735"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="World_8js.html#25edac60dcf6efba0d82216d4c370157">erase</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">erase creature from the matrix  <a href="#25edac60dcf6efba0d82216d4c370157"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="World_8js.html#f9c3e7ec357df13783459962704e0ebb">tick</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Oracle's requirement: .<a class="el" href="World_8js.html#f9c3e7ec357df13783459962704e0ebb" title="Oracle&#39;s requirement: .tick() method taking the generated periodic events.">tick()</a> method taking the generated periodic events.  <a href="#f9c3e7ec357df13783459962704e0ebb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="World_8js.html#95df163a8f5d1877147fb94735aa15d0">add</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">add creature into the world  <a href="#95df163a8f5d1877147fb94735aa15d0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="World_8js.html#44b11db109f0eea6342f7f6a3e146951">set</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">set the wall  <a href="#44b11db109f0eea6342f7f6a3e146951"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="World_8js.html#5a36aa707c5c1ead6009232691e1d32d">background</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">set background of the world  <a href="#5a36aa707c5c1ead6009232691e1d32d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="World_8js.html#232ff057b66625090b8d415559006176">full</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">expand the .core to fit the .body area  <a href="#232ff057b66625090b8d415559006176"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="World_8js.html#ca0fd1fd4f1728fd0cce5c9214702b59">showGrid</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">show grid  <a href="#ca0fd1fd4f1728fd0cce5c9214702b59"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="World_8js.html#0cd79a9d21e93a7b6779611ffc7bd5ee">fitToBackground</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">fit the .core to the background image  <a href="#0cd79a9d21e93a7b6779611ffc7bd5ee"></a><br></td></tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="25ce45b286d5c9e26546c965c1e3e879"></a><!-- doxytag: member="World.js::World" ref="25ce45b286d5c9e26546c965c1e3e879" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
World class. 
<p>
This class implements a prototype of HTMLElement object containers. (world)<ul>
<li>.unit: defines the size (pixel) of squire unit space of the world</li><li>.cols/.rows: number of unit-sized cells <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>{Object}</em>&nbsp;</td><td>args extend/override constructor w/ this passed args object </td></tr>
  </table>
</dl>
<dl compact><dt><b><a class="el" href="test.html#_test000026">Test:</a></b></dt><dd><a href="../../test/World.html">default construction</a> </dd></dl>
<dl compact><dt><b><a class="el" href="test.html#_test000026">Test:</a></b></dt><dd><a href="../../test/World_4by4.html">creature a 4*4 world</a> </dd></dl>
</li></ul>

<p>Definition at line <a class="el" href="World_8js-source.html#l00033">33</a> of file <a class="el" href="World_8js-source.html">World.js</a>.</p>

</div>
</div><p>
<a class="anchor" name="b4e2d0db6ca8692e956bdf07827cd735"></a><!-- doxytag: member="World.js::at" ref="b4e2d0db6ca8692e956bdf07827cd735" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype <a class="el" href="World_8js.html#b4e2d0db6ca8692e956bdf07827cd735">at</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(row, col){

  var <span class="keywordtype">id</span> = this.matrix[row][col];
  
  <span class="keywordflow">if</span>(<span class="keywordtype">id</span> == -1) <span class="keywordflow">return</span> <span class="keyword">false</span>;  
  <span class="keywordflow">if</span>(<span class="keywordtype">id</span> == -2) <span class="keywordflow">return</span> this.wall;  
  var creature;
  <span class="keywordflow">for</span>(var i = 0; i &lt; this.creatures.length; ++i){
    creature = this.creatures[i];
    <span class="keywordflow">if</span>(creature.row == row &amp;&amp; creature.col == col)
    <span class="keywordflow">return</span> creature;
  }
  <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>return creature on the given coordinate 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>{Number}</em>&nbsp;</td><td>row given row </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>{Number}</em>&nbsp;</td><td>col given col </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>{Creature} creature if there is a creature on the given coordinate; otherwise, return W.World.wall (creature ID: -2). </dd></dl>

<p>Definition at line <a class="el" href="World_8js-source.html#l00094">94</a> of file <a class="el" href="World_8js-source.html">World.js</a>.</p>

</div>
</div><p>
<a class="anchor" name="25edac60dcf6efba0d82216d4c370157"></a><!-- doxytag: member="World.js::erase" ref="25edac60dcf6efba0d82216d4c370157" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype <a class="el" href="World_8js.html#25edac60dcf6efba0d82216d4c370157">erase</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(<span class="keywordtype">id</span>){
  var creature = this.creatures[id];
  this.matrix[creature.row][creature.col] = -1;
  this.creatures[id] = -1;
}
</pre></div>erase creature from the matrix 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>{Number}</em>&nbsp;</td><td>id the id of a creature to be erased from the world </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="World_8js-source.html#l00119">119</a> of file <a class="el" href="World_8js-source.html">World.js</a>.</p>

</div>
</div><p>
<a class="anchor" name="f9c3e7ec357df13783459962704e0ebb"></a><!-- doxytag: member="World.js::tick" ref="f9c3e7ec357df13783459962704e0ebb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype <a class="el" href="World_8js.html#f9c3e7ec357df13783459962704e0ebb">tick</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(){
  
  <span class="keywordflow">for</span>(var i = 0; i &lt; this.creatures.length; ++i)
    
      this.creatures[i].<a class="code" href="Creature_8js.html#d723e2cfc7e50399f6998477e2953859" title="perform current action">action</a>();
}
</pre></div>Oracle's requirement: .<a class="el" href="World_8js.html#f9c3e7ec357df13783459962704e0ebb" title="Oracle&#39;s requirement: .tick() method taking the generated periodic events.">tick()</a> method taking the generated periodic events. 
<p>
<dl compact><dt><b><a class="el" href="test.html#_test000028">Test:</a></b></dt><dd><a href="../../test/World_with_Oracle.html">World with Oracle</a> </dd></dl>

<p>Definition at line <a class="el" href="World_8js-source.html#l00130">130</a> of file <a class="el" href="World_8js-source.html">World.js</a>.</p>

</div>
</div><p>
<a class="anchor" name="95df163a8f5d1877147fb94735aa15d0"></a><!-- doxytag: member="World.js::add" ref="95df163a8f5d1877147fb94735aa15d0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype <a class="el" href="World_8js.html#95df163a8f5d1877147fb94735aa15d0">add</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(creature, row, col){
  
  creature.world = <span class="keyword">this</span>;
  creature.row = row?row:creature.row;
  creature.col = col?col:creature.col;
  
  <span class="keywordflow">if</span>(creature.resize)
    creature.resize(this.unit);
  
  creature.body.style.top = (creature.row * this.unit) +<span class="stringliteral">'px'</span>;
  creature.body.style.left = (creature.col * this.unit) +<span class="stringliteral">'px'</span>;
  
  creature.maxTop = this.height - creature.height;
  creature.maxLeft = this.width - creature.width;
  
  creature.id = this.creatures.length;
  this.creatures[this.creatures.length] = creature;
  
  this.core.appendChild(creature.body);
  this.matrix[creature.row][creature.col] = creature.id;
  <span class="keywordflow">return</span> creature;
}
</pre></div>add creature into the world 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>{Creature}</em>&nbsp;</td><td>creature a creature to be added </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>{Number}</em>&nbsp;</td><td>row the row to be inserted on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>{Number}</em>&nbsp;</td><td>col the col to be inserted on </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>{Creature} this creature with updated properties (mostly dimension info) </dd></dl>
<dl compact><dt><b><a class="el" href="test.html#_test000029">Test:</a></b></dt><dd><a href="../../test/World_get_into_Oracle.html">add a World into an Oracle</a> </dd></dl>

<p>Definition at line <a class="el" href="World_8js-source.html#l00147">147</a> of file <a class="el" href="World_8js-source.html">World.js</a>.</p>

</div>
</div><p>
<a class="anchor" name="44b11db109f0eea6342f7f6a3e146951"></a><!-- doxytag: member="World.js::set" ref="44b11db109f0eea6342f7f6a3e146951" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype <a class="el" href="World_8js.html#44b11db109f0eea6342f7f6a3e146951">set</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(bitmask){
  
  <span class="keywordflow">if</span>(typeof this.wall == <span class="stringliteral">'undefined'</span>)
    this.wall = {<span class="keywordtype">id</span>: -2};
  var data = bitmask.split(<span class="charliteral">':'</span>);
  data[1] = data[1].split(<span class="charliteral">','</span>);
  <span class="keywordflow">for</span>(var i = 0; i &lt; data[1].length; ++i)
    this.matrix[data[0]][data[1][i]] = this.wall.id;
}
</pre></div>set the wall 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>{String}</em>&nbsp;</td><td>bitmask string with wall data </td></tr>
  </table>
</dl>
<dl compact><dt><b><a class="el" href="test.html#_test000030">Test:</a></b></dt><dd><a href="../../test/World_with_wall.html">World with wall</a> </dd></dl>

<p>Definition at line <a class="el" href="World_8js-source.html#l00177">177</a> of file <a class="el" href="World_8js-source.html">World.js</a>.</p>

</div>
</div><p>
<a class="anchor" name="5a36aa707c5c1ead6009232691e1d32d"></a><!-- doxytag: member="World.js::background" ref="5a36aa707c5c1ead6009232691e1d32d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype <a class="el" href="World_8js.html#5a36aa707c5c1ead6009232691e1d32d">background</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(bg){
  this.body.style.background = bg;
}
</pre></div>set background of the world 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>{String}</em>&nbsp;</td><td>bg value for <a class="el" href="World_8js.html#5a36aa707c5c1ead6009232691e1d32d" title="set background of the world">body.style.background</a><br>
color or the URL for the image source </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="World_8js-source.html#l00193">193</a> of file <a class="el" href="World_8js-source.html">World.js</a>.</p>

</div>
</div><p>
<a class="anchor" name="232ff057b66625090b8d415559006176"></a><!-- doxytag: member="World.js::full" ref="232ff057b66625090b8d415559006176" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype <a class="el" href="World_8js.html#232ff057b66625090b8d415559006176">full</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(){var <span class="keyword">self</span> = <span class="keyword">this</span>;
  this.cols = Math.floor(W.width / <span class="keyword">this</span>.unit);
  this.width = this.cols * this.unit;
  this.core.style.width = this.body.style.width = this.width +<span class="stringliteral">'px'</span>;

  this.rows = Math.floor(W.height / <span class="keyword">this</span>.unit);
  this.height = this.rows * this.unit;
  this.core.style.height = this.body.style.height = this.height +<span class="stringliteral">'px'</span>;

  
  <span class="keywordflow">for</span>(var i = 0; i &lt; this.creatures.length; ++i){
    var creature = this.creatures[i];
    creature.maxTop = this.height - this.top - creature.height;
    creature.maxLeft = this.width - this.left  - creature.width;
  }

  
  this.buildMatrix(this.rows, this.cols);

  
  document.body.appendChild(W.style(<span class="stringliteral">'table'</span>, <span class="stringliteral">'width:100px;height:100px'</span>));
}
</pre></div>expand the .core to fit the .body area 
<p>
<dl compact><dt><b><a class="el" href="test.html#_test000031">Test:</a></b></dt><dd><a href="../../test/World_full.html">stretched to fit to the world.body</a> </dd></dl>

<p>Definition at line <a class="el" href="World_8js-source.html#l00202">202</a> of file <a class="el" href="World_8js-source.html">World.js</a>.</p>

</div>
</div><p>
<a class="anchor" name="ca0fd1fd4f1728fd0cce5c9214702b59"></a><!-- doxytag: member="World.js::showGrid" ref="ca0fd1fd4f1728fd0cce5c9214702b59" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype <a class="el" href="World_8js.html#ca0fd1fd4f1728fd0cce5c9214702b59">showGrid</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(isOn){
  <span class="keywordflow">if</span>(isOn){
    this.core.style.background =  <span class="stringliteral">'url('</span>+ W.path +<span class="stringliteral">'module/darwin/image/grid_'</span>+ this.unit +<span class="stringliteral">'.gif)'</span>;
  }<span class="keywordflow">else</span> this.core.style.background = <span class="stringliteral">""</span>;
}
</pre></div>show grid 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>{Boolean}</em>&nbsp;</td><td>isOn true to turn on the grid display on .core<br>
otherwise, false </td></tr>
  </table>
</dl>
<dl compact><dt><b><a class="el" href="test.html#_test000032">Test:</a></b></dt><dd><a href="../../test/World_showGrid.html">reveal grid on/off</a> </dd></dl>

<p>Definition at line <a class="el" href="World_8js-source.html#l00232">232</a> of file <a class="el" href="World_8js-source.html">World.js</a>.</p>

</div>
</div><p>
<a class="anchor" name="0cd79a9d21e93a7b6779611ffc7bd5ee"></a><!-- doxytag: member="World.js::fitToBackground" ref="0cd79a9d21e93a7b6779611ffc7bd5ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype <a class="el" href="World_8js.html#0cd79a9d21e93a7b6779611ffc7bd5ee">fitToBackground</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(){var <span class="keyword">self</span> = <span class="keyword">this</span>;
  
  var backPath = W.path + this.image;
  var back = <span class="keyword">new</span> Image();
  back.src = backPath;
  
  
  <span class="keywordflow">if</span>(back.width == 0){
    back.onload = function(){
      W.style(<span class="keyword">self</span>.body, <span class="stringliteral">'width:'</span>+ this.width +<span class="stringliteral">'px;height:'</span>+ this.height +<span class="stringliteral">'px'</span>);
    };
  }
  W.style(this.body, <span class="stringliteral">'width:'</span>+ back.width +<span class="stringliteral">'px;height:'</span>+ back.height +<span class="stringliteral">'px;'</span>);
  this.body.style.background = <span class="stringliteral">'url('</span>+ backPath +<span class="charliteral">')'</span>;
}
</pre></div>fit the .core to the background image 
<p>
<dl compact><dt><b><a class="el" href="test.html#_test000033">Test:</a></b></dt><dd><a href="../../test/World_with_background.html">World with background image</a> </dd></dl>
<dl compact><dt><b><a class="el" href="test.html#_test000033">Test:</a></b></dt><dd><a href="../../test/World_with_background_32unit.html">World with background image (32px)</a> </dd></dl>

<p>Definition at line <a class="el" href="World_8js-source.html#l00244">244</a> of file <a class="el" href="World_8js-source.html">World.js</a>.</p>

</div>
</div><p>
</div>
<hr size=1>
<a href='http://wednus.com' style="text-decoration:none">
<small><font style="font-size: 11px;" color="gray">
<font style="font-size: 12px;" color="navy"><b>we</b></font>&nbsp;
<font style="font-size: 12px;" color="green"><b>d</b></font>o<font style="font-size: 12px;" color="orange"><b>n</b></font>'t&nbsp;
<font style="font-size: 12px;" color="brown"><b>us</b></font>e toilet paper; we use our bare hands.</font></small>
</a>
