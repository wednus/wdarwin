<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Wednus Darwin: Creature.js File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Creature.js File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
Wednus Creature class. 
<p>
This file contains the class definition of the <a class="el" href="Creature_8js.html#e0416ab7b00218a7941420d6bbe6e094" title="Creature class.">W.Creature</a>. <dl class="author" compact><dt><b>Author:</b></dt><dd>Sundew H. Shin </dd></dl>
<dl class="version" compact><dt><b>Version:</b></dt><dd>0.2.0 </dd></dl>

<p>Definition in file <a class="el" href="Creature_8js-source.html">Creature.js</a>.</p>

<p>

<p>
<a href="Creature_8js-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="Creature_8js.html#e0416ab7b00218a7941420d6bbe6e094">Creature</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creature class.  <a href="#e0416ab7b00218a7941420d6bbe6e094"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="Creature_8js.html#e0416ab7b00218a7941420d6bbe6e094">Creature</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="Creature_8js.html#603073f2d47ab18ce5e5e87495b6be4c">add</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">add a skill, an animation  <a href="#603073f2d47ab18ce5e5e87495b6be4c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="Creature_8js.html#e0416ab7b00218a7941420d6bbe6e094">Creature</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="Creature_8js.html#abda11217ae8ebe59dd9053f16a49422">clone</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">clone this creature and return the clone  <a href="#abda11217ae8ebe59dd9053f16a49422"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="Creature_8js.html#e0416ab7b00218a7941420d6bbe6e094">Creature</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="Creature_8js.html#d723e2cfc7e50399f6998477e2953859">action</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">perform current action  <a href="#d723e2cfc7e50399f6998477e2953859"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="Creature_8js.html#e0416ab7b00218a7941420d6bbe6e094">Creature</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="Creature_8js.html#ce4f98ada93c1595825bc0d74543f7e6">getAbsDir</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">relative-dir to absolute-dir  <a href="#ce4f98ada93c1595825bc0d74543f7e6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="Creature_8js.html#e0416ab7b00218a7941420d6bbe6e094">Creature</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="Creature_8js.html#08d6eb6af1b66bf81d39d57d88dca795">doAtoB</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">do A to B  <a href="#08d6eb6af1b66bf81d39d57d88dca795"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="Creature_8js.html#e0416ab7b00218a7941420d6bbe6e094">Creature</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="Creature_8js.html#a0202a1745aea082aa90e39064abfd7a">isAonB</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">is A on B?  <a href="#a0202a1745aea082aa90e39064abfd7a"></a><br></td></tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="e0416ab7b00218a7941420d6bbe6e094"></a><!-- doxytag: member="Creature.js::Creature" ref="e0416ab7b00218a7941420d6bbe6e094" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="Creature_8js.html#e0416ab7b00218a7941420d6bbe6e094">Creature</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creature class. 
<p>
This class implements a prototype of simulated organic objects. (creature)<ul>
<li>.uwidth/.uheight/.udepth: number of unit-sized cells creature physically occupies <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>{Object}</em>&nbsp;</td><td>args extend/override constructor w/ this passed args object </td></tr>
  </table>
</dl>
<dl compact><dt><b><a class="el" href="test.html#_test000001">Test:</a></b></dt><dd><a href="../../test/Creature.html">default construction</a> </dd></dl>
</li></ul>

<p>Definition at line <a class="el" href="Creature_8js-source.html#l00017">17</a> of file <a class="el" href="Creature_8js-source.html">Creature.js</a>.</p>

</div>
</div><p>
<a class="anchor" name="603073f2d47ab18ce5e5e87495b6be4c"></a><!-- doxytag: member="Creature.js::add" ref="603073f2d47ab18ce5e5e87495b6be4c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="Creature_8js.html#e0416ab7b00218a7941420d6bbe6e094">Creature</a> prototype <a class="el" href="World_8js.html#95df163a8f5d1877147fb94735aa15d0">add</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(skill){
  
  skill.creature = <span class="keyword">this</span>;
  this.skills[skill.name] = skill;
}
</pre></div>add a skill, an animation 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>{Skill}</em>&nbsp;</td><td>skill object with animation information; e.g. <a class="el" href="Skill_8js.html#028ba7c9de3f1f29ac27c7ebfcc9999e" title="Skill class.">W.Skill</a> </td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>'a skill' is an object with definitions of an animation </dd></dl>
<dl compact><dt><b><a class="el" href="test.html#_test000002">Test:</a></b></dt><dd><a href="../../test/Creature_add.html">add a skill (walking)</a> </dd></dl>
<dl compact><dt><b><a class="el" href="test.html#_test000002">Test:</a></b></dt><dd><a href="../../test/walkaround_reymond.html">add creature (1-frame: animation gif)</a> </dd></dl>
<dl compact><dt><b><a class="el" href="test.html#_test000002">Test:</a></b></dt><dd><a href="../../test/walkaround_chocobo.html">add creature (4-frame)</a> </dd></dl>
<dl compact><dt><b><a class="el" href="test.html#_test000002">Test:</a></b></dt><dd><a href="../../test/walkaround_villager.html">add creature (4-frame)</a> </dd></dl>
<dl compact><dt><b><a class="el" href="test.html#_test000002">Test:</a></b></dt><dd><a href="../../test/walkaround_rock_cn_sprites.html">add creature (6-frame)</a> </dd></dl>
<dl compact><dt><b><a class="el" href="test.html#_test000002">Test:</a></b></dt><dd><a href="../../test/walkaround_lemming.html">add creature (8-frame)</a> </dd></dl>
<dl compact><dt><b><a class="el" href="test.html#_test000002">Test:</a></b></dt><dd><a href="../../test/walkaround_gorgon.html">add creature (4 uwidth/uheight sprite)</a> </dd></dl>

<p>Definition at line <a class="el" href="Creature_8js-source.html#l00082">82</a> of file <a class="el" href="Creature_8js-source.html">Creature.js</a>.</p>

</div>
</div><p>
<a class="anchor" name="abda11217ae8ebe59dd9053f16a49422"></a><!-- doxytag: member="Creature.js::clone" ref="abda11217ae8ebe59dd9053f16a49422" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="Creature_8js.html#e0416ab7b00218a7941420d6bbe6e094">Creature</a> prototype <a class="el" href="Creature_8js.html#abda11217ae8ebe59dd9053f16a49422">clone</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(){
  var <a class="code" href="Creature_8js.html#abda11217ae8ebe59dd9053f16a49422" title="clone this creature and return the clone">clone</a> = <span class="keyword">new</span> W.Creature();
  <span class="keywordflow">for</span>(var i in <span class="keyword">this</span>){
    
    <span class="keywordflow">if</span>(i != <span class="stringliteral">'body'</span> &amp;&amp; i != <span class="stringliteral">'img'</span>)
      eval(<span class="stringliteral">'clone.'</span>+ i +<span class="stringliteral">' = this["'</span>+ i +<span class="stringliteral">'"];'</span>);
  }
  <span class="keywordflow">return</span> clone;
}
</pre></div>clone this creature and return the clone 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>{Creature} creature the product of cloning </dd></dl>
<dl compact><dt><b><a class="el" href="test.html#_test000009">Test:</a></b></dt><dd><a href="../../test/walkaround_lemmings.html">add creature with cloning</a> </dd></dl>
<dl compact><dt><b><a class="el" href="test.html#_test000009">Test:</a></b></dt><dd><a href="../../test/clones_on_iphone.html">clones on iPhone-sized world</a> </dd></dl>

<p>Definition at line <a class="el" href="Creature_8js-source.html#l00096">96</a> of file <a class="el" href="Creature_8js-source.html">Creature.js</a>.</p>

</div>
</div><p>
<a class="anchor" name="d723e2cfc7e50399f6998477e2953859"></a><!-- doxytag: member="Creature.js::action" ref="d723e2cfc7e50399f6998477e2953859" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="Creature_8js.html#e0416ab7b00218a7941420d6bbe6e094">Creature</a> prototype <a class="el" href="Creature_8js.html#d723e2cfc7e50399f6998477e2953859">action</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
perform current action 
<p>
<dl compact><dt><b><a class="el" href="test.html#_test000011">Test:</a></b></dt><dd><a href="../../test/Creature_algo.html">Creature.algo()</a> </dd></dl>
<dl compact><dt><b><a class="el" href="test.html#_test000011">Test:</a></b></dt><dd><a href="../../test/place_occupying_hori.html">test changeCol</a> </dd></dl>
<dl compact><dt><b><a class="el" href="test.html#_test000011">Test:</a></b></dt><dd><a href="../../test/place_occupying_vert.html">test changeRow</a> </dd></dl>
<dl compact><dt><b><a class="el" href="test.html#_test000011">Test:</a></b></dt><dd><a href="../../test/place_occupying.html">test changeCol/changeRow</a> </dd></dl>

<p>Definition at line <a class="el" href="Creature_8js-source.html#l00116">116</a> of file <a class="el" href="Creature_8js-source.html">Creature.js</a>.</p>

</div>
</div><p>
<a class="anchor" name="ce4f98ada93c1595825bc0d74543f7e6"></a><!-- doxytag: member="Creature.js::getAbsDir" ref="ce4f98ada93c1595825bc0d74543f7e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="Creature_8js.html#e0416ab7b00218a7941420d6bbe6e094">Creature</a> prototype <a class="el" href="Creature_8js.html#ce4f98ada93c1595825bc0d74543f7e6">getAbsDir</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(rDir){
  var absDir = [<span class="stringliteral">'north'</span>, <span class="stringliteral">'east'</span>, <span class="stringliteral">'south'</span>, <span class="stringliteral">'west'</span>];
  var relDir = [<span class="stringliteral">'front'</span>, <span class="stringliteral">'right'</span>, <span class="stringliteral">'rear'</span>, <span class="stringliteral">'left'</span>];
  
  <span class="keywordflow">if</span> (absDir.indexOf(rDir) != -1)
    <span class="keywordflow">return</span> rDir;
  
  <span class="keywordflow">if</span>(rDir == <span class="stringliteral">'random'</span>)
     <span class="keywordflow">return</span> absDir[Math.floor(Math.random() * 4)];
  
  numOfTurns = absDir.indexOf(this.dir);
  <span class="keywordflow">for</span> (var i = 0; i &lt; numOfTurns; ++i) {
    var first = absDir.shift();
    absDir.push(first);
  }
  <span class="keywordflow">return</span> absDir[relDir.indexOf(rDir)];
}
</pre></div>relative-dir to absolute-dir 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>{String}</em>&nbsp;</td><td>rDir relative dir e.g. left/right/front/rear/random </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>{Boolean} true if the op commands direction change </dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>handles only following actions: 'rturn,left,right,backward,north,east,south,west' </dd></dl>

<p>Definition at line <a class="el" href="Creature_8js-source.html#l00211">211</a> of file <a class="el" href="Creature_8js-source.html">Creature.js</a>.</p>

</div>
</div><p>
<a class="anchor" name="08d6eb6af1b66bf81d39d57d88dca795"></a><!-- doxytag: member="Creature.js::doAtoB" ref="08d6eb6af1b66bf81d39d57d88dca795" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="Creature_8js.html#e0416ab7b00218a7941420d6bbe6e094">Creature</a> prototype <a class="el" href="Creature_8js.html#08d6eb6af1b66bf81d39d57d88dca795">doAtoB</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(A, B){
  
  A.to(B);
  this.act = A.name;
  
  <span class="keywordflow">if</span>(this.img.src != A.img)
    this.img.src = A.img;
}
</pre></div>do A to B 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>{Skill}</em>&nbsp;</td><td>A a skill </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>{Object}</em>&nbsp;</td><td>B argument for the action, e.g. direction, Creature... </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Creature_8js-source.html#l00236">236</a> of file <a class="el" href="Creature_8js-source.html">Creature.js</a>.</p>

</div>
</div><p>
<a class="anchor" name="a0202a1745aea082aa90e39064abfd7a"></a><!-- doxytag: member="Creature.js::isAonB" ref="a0202a1745aea082aa90e39064abfd7a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="Creature_8js.html#e0416ab7b00218a7941420d6bbe6e094">Creature</a> prototype <a class="el" href="Creature_8js.html#a0202a1745aea082aa90e39064abfd7a">isAonB</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(A, B){
  
  <span class="keywordflow">if</span>(B.split(<span class="charliteral">':'</span>).length != 0){
    var coor = B.split(<span class="charliteral">':'</span>);
    <span class="keywordflow">return</span> (A == this.world[coor[0]][coor[1]]);
  }
  
  <span class="keywordflow">while</span>(<span class="keyword">true</span>){
    <span class="keywordflow">switch</span>(B){
      <span class="keywordflow">case</span> <span class="stringliteral">'north'</span>: <span class="keywordflow">return</span> (A == this.world[this.col][--this.row]);
      <span class="keywordflow">case</span> <span class="stringliteral">'east'</span>: <span class="keywordflow">return</span> (A == this.world[++this.col][this.row]);
      <span class="keywordflow">case</span> <span class="stringliteral">'south'</span>: <span class="keywordflow">return</span> (A == this.world[this.col][++this.row]);
      <span class="keywordflow">case</span> <span class="stringliteral">'west'</span>: <span class="keywordflow">return</span> (A == this.world[--this.col][this.row]);
      <span class="keywordflow">case</span> <span class="stringliteral">'front'</span>:
      <span class="keywordflow">case</span> <span class="stringliteral">'right'</span>:
      <span class="keywordflow">case</span> <span class="stringliteral">'rear'</span>:
      <span class="keywordflow">case</span> <span class="stringliteral">'left'</span>: B = this.<a class="code" href="Creature_8js.html#ce4f98ada93c1595825bc0d74543f7e6" title="relative-dir to absolute-dir">getAbsDir</a>(B);
    }
  };
}
</pre></div>is A on B? 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>{Creature}</em>&nbsp;</td><td>A a creature (object) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>{String}</em>&nbsp;</td><td>B direction ('left/right/front/rear/random, and north/south/west/east') or coordinate ('0:1') </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Creature_8js-source.html#l00253">253</a> of file <a class="el" href="Creature_8js-source.html">Creature.js</a>.</p>

</div>
</div><p>
</div>
<hr size=1>
<a href='http://wednus.com' style="text-decoration:none">
<small><font style="font-size: 11px;" color="gray">
<font style="font-size: 12px;" color="navy"><b>we</b></font>&nbsp;
<font style="font-size: 12px;" color="green"><b>d</b></font>o<font style="font-size: 12px;" color="orange"><b>n</b></font>'t&nbsp;
<font style="font-size: 12px;" color="brown"><b>us</b></font>e toilet paper; we use our bare hands.</font></small>
</a>
